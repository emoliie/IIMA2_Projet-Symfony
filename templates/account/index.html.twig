{% extends 'base.html.twig' %}

{% block title %}Mon compte
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>

	<h1>Bienvenue,
		{{ user.firstname }}
		{{ user.lastname }}</h1>
	<p>Vous êtes connecté en tant que
		{{ user.email }}</p>

	<h2>Historique des commandes</h2>
	{% if orders|length > 0 %}
		<table class="table">
			<thead>
				<tr>
					<th>Commande n°</th>
					<th>Date</th>
					<th>Montant</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for order in orders %}
					<tr>
						<td>{{ order.userOrderNumber }}</td>
						<td>{{ order.date|date('d/m/Y H:i') }}</td>
						<td>{{ order.getTotal() }}
							€</td>
						<td>
							<a href="{{ path('order_details', { id: order.id }) }}" class="btn btn-primary">Voir le détail</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	{% else %}
		<p>Vous n'avez pas encore passé de commandes.</p>
	{% endif %}
{% endblock %}
